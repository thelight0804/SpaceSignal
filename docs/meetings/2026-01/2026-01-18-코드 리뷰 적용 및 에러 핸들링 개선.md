# 2026-01-18-코드 리뷰 적용 및 에러 핸들링 개선

## Summary (회의 요약)
GitHub PR에서 받은 코드 리뷰를 검토하고, 에러 핸들링과 deprecated API 문제를 수정함. 환경 변수 관련 리뷰는 배포 단계로 미루고, 현재 학습 단계에서 필요한 핵심 개선사항만 적용함.

## Key Decisions (주요 결정 사항)

### fetch 에러 핸들링 추가 (App.svelte)
- **내용:** 
  - `error` 변수 추가 및 `.catch()` 체인 구현
  - `response.ok` 체크로 HTTP 에러 감지
  - 에러 발생 시 사용자에게 메시지 표시
- **이유:** 
  - 네트워크 장애, HTTP 에러, JSON 파싱 실패 등의 상황 대응
  - 무한 "Loading..." 상태 방지

### datetime.utcnow() → now(timezone.utc) 변경 (main.py)
- **내용:** 
  - `from datetime import datetime, timezone` import 추가
  - `datetime.utcnow()` → `datetime.now(timezone.utc)` 변경
- **이유:** 
  - Python 3.12+에서 `utcnow()`는 deprecated
  - 프로젝트가 Python 3.13 사용 중
  - Naive datetime 대신 timezone-aware datetime 사용으로 미래 버그 방지
  - 위성 추적처럼 글로벌 타임존 처리가 중요한 프로젝트에서 필수

### 환경 변수 적용 연기
- **내용:** 
  - 프론트엔드 API URL 하드코딩 (`VITE_API_BASE_URL`)
  - 백엔드 CORS origins 하드코딩 (`CORS_ORIGINS`)
- **이유:** 
  - 현재는 FastAPI/Svelte 기초 학습 단계
  - 로컬 개발 환경에서는 하드코딩으로 충분
  - AWS 배포 전에 통합 적용 예정 (두 설정이 서로 연관됨)

## Blockers & Solutions (블로커 & 해결책)

### 문제 1: fetch 실패 시 무한 로딩 상태
- **원인:** `.catch()` 없이 Promise 체인 구성, 에러 발생 시 `health` 변수가 `undefined` 상태로 유지
- **해결:** 
  - `.catch()` 추가하여 모든 종류의 에러 캐치
  - `error` 변수로 에러 상태 관리
  - 템플릿에서 `{#if error}` 우선 체크

### 문제 2: Python deprecated 경고
- **원인:** `datetime.utcnow()`는 Python 3.12부터 deprecated
- **해결:** 
  - `datetime.now(timezone.utc)` 사용
  - ISO 8601 형식에 `+00:00` 타임존 정보 포함

## TIL (느낀 점)
- **Promise 에러 핸들링의 중요성:**
  - `response.ok` 체크와 `.catch()` 조합이 필요하다
  
- **Naive vs Aware Datetime:**
  - Naive datetime: 타임존 정보 없음, 암묵적 가정에 의존
  - Aware datetime: 타임존 정보 포함, 명시적이고 안전
  - Python 3.12+는 명시적 타임존 사용을 강제하는 방향으로 진화 중

## Action Items (다음 할 일)
- [x] 수정 내용 commit 및 PR 업데이트
- [x] Issue #5 작업 계획 수립 (Docker 컨테이너화)
- [ ] Issue #5 진행: Backend/Frontend Docker 구성 및 docker-compose 통합